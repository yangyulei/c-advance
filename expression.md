#表达式求值的顺序

**`优先级只对相邻的操作符的执行顺序起作用`**

>例:
a\*b + c\*d +e\*f ;  
//可能按下列顺序运行：  
c\*d  
e\*f  
a\*b  
(a\*b)+(c\*d)  
(a\*b)+(c\*d)+(e\*f)  

加法运算的结合性要求两个加法运算按先左后右执行，但对表达式剩余部分执行顺序没有限制。  没有规则要求所有的乘法首先进行，没有规定其谁先执行。

**`避免编写结果依赖于求值顺序的表达式`**

>例：
f( ) + g( )+ h( ) ; //应该避免！

如果函数执行有副作用，不同的结合顺序会产生不同的结果！  
所以最好使用临时变量，让每个函数调用都在单独的语句中进行。  
tmp = f( ) ;  
tmp += g( ) ;  
tmp += h( ) ;  //良好的编程风格 


**`确保一个表达式只修改一个对象`**

>例：a[i] = i++;  //应该避免！

i在同一表达式的其它地方被引用无从判断该应用是旧值还是新值。


**`不要让有副作用的函数作为参数`**

>例： printf(“%d%d”,f1(), f2()) ; //应该避免！

若函数f2( )的结果依赖于函数f1( ) 则printf的结果是不确定的！  
不要假定函数参数的求值顺序，虽然在 C 中参数的压栈顺序是从右到左的，但是并没有对参数的求值顺序进行规定。





